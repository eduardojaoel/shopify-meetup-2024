---
import { YouTube } from "@astro-community/astro-embed-youtube";
import { Button } from "./ui/button";
import { Input } from "@/components/ui/input";
import Contador from "@/components/Contador.astro";
import {
  CircleCheck,
  CircleX,
  MapPin,
  Calendar,
  CircleAlert,
  Instagram,
  Linkedin,
} from "lucide-react";
import { Alert, AlertDescription } from "@/components/ui/alert";
---

<div class="relative min-h-dvh overflow-hidden">
  <div class="w-full">
    <header
      class="w-full max-w-screen-xl mx-auto py-6 md:py-10 px-6 flex justify-center"
    >
      <a href="/">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="100"
          viewBox="0 0 489.66 192.18"
          fill="#ffffff"
          class="w-[180px] md:w-[200px]"
        >
          <path
            d="M241.29 113.61c-2.92-1.89-3.98-4.77-3.93-8.03 11.24 1.28 25.9-1.59 34.19-9.48 5.06-4.81 7.08-11.02 5.68-17.49-1.51-7-5.61-10.06-8.78-11.4-5.73-2.42-13.46-1.17-20.67 3.35-4.71 2.95-8.85 7.17-11.97 12.21-4.48 7.24-6.78 13.26-7.68 18.26-9.29 13.09-31.96 18.61-41.31 12.57-2.91-1.88-3.98-4.76-3.93-8.02 11.42 1.33 26.21-1.65 34.46-9.75 4.86-4.77 6.78-10.89 5.41-17.23-1.51-7-5.61-10.06-8.78-11.4-5.73-2.42-13.46-1.17-20.67 3.35-4.71 2.95-8.85 7.17-11.97 12.21-2.59 4.18-4.45 7.96-5.74 11.36-2.14-.63-4.01-1.35-5.43-2.1l-4.51 8.58c2.41 1.27 5.16 2.23 7.65 2.95-.96 10.59 4.78 15.95 8.23 18.18 4.25 2.75 9.68 4.02 15.52 4.02 10.92 0 23.3-4.43 32.19-11.87 1.78 4.04 4.67 6.52 6.74 7.85 4.25 2.75 9.68 4.02 15.52 4.02 14.38 0 31.28-7.67 39.45-19.77l-8.04-5.42c-9.06 13.44-32.21 19.15-41.66 13.04Zm2.77-25.73c2.34-3.79 5.41-6.93 8.87-9.1 4.4-2.76 9.01-3.79 11.75-2.63.57.24 2.3.97 3.07 4.51.68 3.16-.26 5.91-2.88 8.41-5.22 4.96-15.97 7.79-25.13 7.03 1.29-3.03 2.9-5.91 4.33-8.22Zm-54.45 0c2.35-3.79 5.41-6.93 8.87-9.1 4.4-2.76 9.01-3.79 11.75-2.63.57.24 2.3.97 3.07 4.51.67 3.1-.22 5.8-2.73 8.26-5.07 4.97-16.01 7.91-25.29 7.17 1.28-3.02 2.9-5.9 4.32-8.2ZM154.62 74.83c-1.55-2.28-3.68-4.12-6.39-5.52-2.71-1.39-6.19-2.09-10.45-2.09-3.33 0-6.62.85-9.87 2.55-3.25 1.7-5.77 4.26-7.55 7.66-1.78-3.41-4.06-5.96-6.85-7.66-2.79-1.7-6.23-2.55-10.33-2.55-2.48 0-4.74.37-6.79 1.1-2.05.74-3.83 1.63-5.34 2.67-1.51 1.04-2.75 2.15-3.72 3.31-.97 1.16-1.57 2.13-1.8 2.9h-.23v-8.59h-9.75v55.03H86V95.08c0-3.09.39-5.79 1.16-8.07.77-2.28 1.82-4.16 3.13-5.63 1.32-1.47 2.84-2.57 4.59-3.31 1.74-.74 3.54-1.1 5.4-1.1 2.55 0 4.59.45 6.1 1.34 1.51.89 2.67 2.13 3.48 3.72.81 1.59 1.35 3.47 1.63 5.63.27 2.17.41 4.57.41 7.2v28.79h10.45V93.58c0-4.88 1.08-8.86 3.25-11.96 2.17-3.1 5.77-4.64 10.8-4.64 2.55 0 4.6.45 6.15 1.34 1.55.89 2.75 2.07 3.6 3.54.85 1.47 1.41 3.17 1.68 5.11.27 1.94.41 3.95.41 6.04v30.65h10.45V91.61c0-3.1-.29-6.1-.87-9-.58-2.9-1.65-5.49-3.19-7.78ZM318.36 115.29c-2.01 0-3.54-.37-4.59-1.1a6.561 6.561 0 0 1-2.32-2.9c-.5-1.2-.79-2.55-.87-4.06-.08-1.51-.12-3.04-.12-4.59V77.68h14.98v-9.06h-14.98V53.18h-10.45v15.44h-12.07v9.06h12.07v28.68c0 2.25.1 4.47.29 6.68.19 2.21.81 4.2 1.86 5.98 1.04 1.78 2.67 3.23 4.88 4.35 2.21 1.12 5.32 1.68 9.35 1.68 1.08 0 2.61-.14 4.59-.41 1.97-.27 3.58-.75 4.82-1.45v-9.52c-1.09.62-2.28 1.04-3.6 1.28-1.32.23-2.59.35-3.83.35ZM76.62 148.01h5.81c3.82 0 5.48 1.99 5.48 4.81s-1.66 4.79-5.48 4.79H79.7v4.79h-3.08v-14.38Zm5.71 6.92c1.68 0 2.42-.84 2.42-2.12s-.74-2.14-2.42-2.14H79.7v4.25h2.63ZM94.42 148.01h3.96l5.2 14.38h-3.22l-.92-2.69h-6.06l-.92 2.69h-3.22l5.2-14.38Zm4.23 9.4-2.16-6.26h-.18l-2.16 6.26h4.5ZM107.26 148.01h3.2l5.79 9.45h.06v-9.45h3.08v14.38h-3.33l-5.67-9.26h-.06v9.26h-3.08v-14.38ZM128.27 148.01h3.96l5.2 14.38h-3.22l-.92-2.69h-6.06l-.92 2.69h-3.22l5.2-14.38Zm4.23 9.4-2.16-6.26h-.18l-2.16 6.26h4.5ZM141.1 148.01h3.88l3.76 10.19 3.78-10.19h3.88v14.38h-3.08v-9.06h-.1l-3.33 9.06h-2.3l-3.31-9.06h-.1v9.06h-3.08v-14.38ZM165.27 148.01h3.96l5.2 14.38h-3.22l-.92-2.69h-6.06l-.92 2.69h-3.22l5.2-14.38Zm4.23 9.4-2.16-6.26h-.18l-2.16 6.26h4.5Zm-1.48-13.51h2.61l-2.18 2.88h-2.59l2.16-2.88ZM188.62 155.52c1.93-1.11 3.39-1.7 3.41-3.31.04-1.46-1.07-1.85-2.01-1.85-1.09 0-2.07.6-2.07 2.22v.29h-2.9v-.41c0-2.55 1.46-4.64 5.01-4.64 3.24 0 4.97 1.73 4.97 4.21 0 2.81-2.2 3.96-3.92 4.93-2.05 1.19-2.83 1.95-2.83 2.88v.06H195v2.49h-10.15v-.68c0-2.61.74-4.4 3.78-6.18ZM198.93 155.19c0-5.44 2.98-7.37 5.77-7.37s5.77 1.93 5.77 7.37-2.94 7.39-5.77 7.39-5.77-1.91-5.77-7.39Zm5.77 4.89c2.2 0 2.92-2.34 2.92-4.89s-.72-4.87-2.92-4.87-2.92 2.36-2.92 4.87.72 4.89 2.92 4.89ZM218.09 155.52c1.93-1.11 3.39-1.7 3.41-3.31.04-1.46-1.07-1.85-2.01-1.85-1.09 0-2.07.6-2.07 2.22v.29h-2.9v-.41c0-2.55 1.46-4.64 5.01-4.64 3.24 0 4.97 1.73 4.97 4.21 0 2.81-2.2 3.96-3.92 4.93-2.05 1.19-2.83 1.95-2.83 2.88v.06h6.72v2.49h-10.15v-.68c0-2.61.74-4.4 3.78-6.18ZM234.51 159.01h-6.22v-2.4l6.22-8.61h3v8.61h1.64v2.4h-1.64v3.37h-3v-3.37Zm0-2.4v-4.99l-3.62 4.99h3.62ZM110.72 29.79l-7.08-6.62L85.1 42.99V26.48h-9.7v33.64h34.49v-9.7H91.42l19.3-20.63zM33.39 69.12h-.16v9.7h18.62L32.56 99.45l7.08 6.62 18.38-19.64v16.33h9.86V69.12H33.39z"
            class="cls-1"></path>
          <path
            id="s"
            d="M303.26 153.46c-1.05-.58-1.6-1.05-1.6-1.71 0-.86.75-1.38 1.93-1.38 1.38 0 2.59.58 2.59.58l.97-2.95s-.88-.69-3.5-.69c-3.64 0-6.18 2.1-6.18 5.02 0 1.66 1.19 2.93 2.76 3.84 1.27.72 1.71 1.24 1.71 1.99 0 .8-.63 1.44-1.82 1.44-1.77 0-3.42-.91-3.42-.91l-1.02 2.95s1.55 1.02 4.11 1.02c3.75 0 6.43-1.85 6.43-5.16.06-1.82-1.32-3.09-2.95-4.03Z"
            class="cls-1"></path>
          <path
            id="h"
            d="M318.21 147.3c-1.84 0-3.28.88-4.4 2.2l-.06-.03 1.6-8.37h-4.2l-4.05 21.3h4.16l1.38-7.32c.55-2.76 1.96-4.44 3.28-4.44.94 0 1.3.63 1.3 1.55 0 .58-.06 1.27-.19 1.85l-1.57 8.37h4.16l1.62-8.59c.19-.91.3-1.98.3-2.72.06-2.39-1.16-3.8-3.33-3.8Z"
            class="cls-1"></path>
          <path
            id="o"
            d="M331.05 147.25c-5.02 0-8.36 4.53-8.36 9.58 0 3.23 1.99 5.85 5.74 5.85 4.94 0 8.25-4.42 8.25-9.58.03-3.01-1.71-5.85-5.63-5.85Zm-2.04 12.2c-1.44 0-2.01-1.21-2.01-2.73 0-2.4 1.24-6.29 3.5-6.29 1.49 0 1.96 1.27 1.96 2.51 0 2.59-1.24 6.51-3.45 6.51Z"
            class="cls-1"></path>
          <path
            id="p"
            d="M347.39 147.23c-2.83 0-4.44 2.5-4.44 2.5h-.03l.25-2.22h-3.69c-.19 1.52-.53 3.81-.86 5.56l-2.9 15.26h4.17l1.15-6.16h.05s.86.56 2.47.56c4.94 0 8.16-5.05 8.16-10.16 0-2.8-1.25-5.33-4.33-5.33Zm-3.98 12.31c-1.08 0-1.71-.61-1.71-.61l.69-3.89c.5-2.59 1.85-4.33 3.28-4.33 1.27 0 1.66 1.19 1.66 2.29 0 2.68-1.6 6.54-3.92 6.54Z"
            class="cls-1"></path>
          <path
            id="dot"
            d="M357.65 141.26c-1.32 0-2.4 1.05-2.4 2.43 0 1.24.77 2.1 1.96 2.1h.06c1.3 0 2.43-.88 2.46-2.43.03-1.24-.8-2.1-2.07-2.1Z"
            class="cls-1"></path>
          <path
            id="i"
            d="M351.8 162.41h4.2l2.83-14.77h-4.21l-2.82 14.77z"
            class="cls-1"></path>
          <path
            id="f"
            d="M369.5 147.51h-2.95l.14-.7c.25-1.46 1.1-2.75 2.53-2.75.76 0 1.35.22 1.35.22l.84-3.31s-.73-.37-2.3-.37-3.01.42-4.16 1.4c-1.46 1.24-2.13 3.01-2.47 4.8l-.11.7h-1.97l-.62 3.2h2.03l-2.21 11.7h4.18l2.21-11.7h2.92l.59-3.2Z"
            class="cls-1"></path>
          <path
            id="y"
            d="M379.46 147.64s-2.61 6.53-3.76 10.1h-.05c-.08-1.15-1.02-10.1-1.02-10.1h-4.36l2.5 13.5c.05.3.03.49-.08.69-.49.93-1.29 1.84-2.25 2.5-.77.58-1.65.93-2.33 1.18l1.15 3.51c.85-.19 2.58-.88 4.06-2.25 1.89-1.78 3.65-4.5 5.43-8.23l5.08-10.89h-4.36Z"
            class="cls-1"></path>
          <path
            d="M280.21 138.29c-.11-.36-.28-.77-.5-1.21-.72-1.38-1.79-2.13-3.06-2.13-.08 0-.17 0-.28.03-.03-.06-.08-.08-.11-.14-.55-.61-1.27-.88-2.13-.86-1.66.06-3.31 1.24-4.64 3.37-.94 1.49-1.66 3.37-1.85 4.83-1.9.58-3.23.99-3.26 1.02-.97.3-.99.33-1.1 1.24-.08.69-2.62 20.12-2.62 20.12l20.86 3.62v-30.22c-.17 0-.25.03-.3.03 0 0-.39.11-1.02.3Zm-3.75 1.18c-1.1.33-2.32.72-3.5 1.08.33-1.3.99-2.59 1.77-3.45.3-.3.72-.66 1.19-.88.47.99.58 2.35.55 3.26Zm-2.26-4.36c.39 0 .72.08.99.25-.44.22-.88.58-1.3.99-1.05 1.13-1.85 2.9-2.18 4.58-.99.3-1.99.61-2.9.88.61-2.65 2.84-6.65 5.38-6.71Zm-3.2 15.18c.11 1.77 4.77 2.15 5.05 6.32.19 3.28-1.74 5.52-4.53 5.69-3.37.22-5.22-1.77-5.22-1.77l.72-3.04s1.85 1.41 3.34 1.3c.97-.06 1.32-.86 1.3-1.41-.14-2.32-3.95-2.18-4.19-5.99-.22-3.2 1.88-6.43 6.51-6.73 1.79-.11 2.7.33 2.7.33l-1.05 3.97s-1.19-.55-2.59-.44c-2.04.14-2.07 1.44-2.04 1.77Zm6.56-11.15c0-.83-.11-2.01-.5-3.01 1.27.25 1.88 1.66 2.15 2.51-.5.14-1.05.3-1.66.5ZM287.19 140.6c-.03-.17-.17-.28-.3-.28s-2.57-.06-2.57-.06-1.49-1.44-2.04-1.99v29.83l8.67-2.15s-3.73-25.2-3.75-25.36Z"
            class="cls-1"></path>
          <path
            d="m32.56 29.79 7.08-6.62 18.54 19.82V26.48h9.7v33.64H33.39v-9.7h18.46L32.56 29.79zM376.47 96.95c0 3.17-.39 5.92-1.16 8.24-.77 2.32-1.86 4.24-3.25 5.75a12.581 12.581 0 0 1-4.88 3.31c-1.86.7-3.87 1.05-6.04 1.05-1.63 0-3.19-.25-4.7-.75-1.51-.5-2.84-1.32-4.01-2.44-1.16-1.12-2.09-2.59-2.79-4.41-.7-1.82-1.05-4.01-1.05-6.56V68.63h-10.45v35.41c0 3.64.54 6.79 1.63 9.46 1.08 2.67 2.53 4.86 4.35 6.56 1.82 1.7 3.93 2.96 6.33 3.77s4.95 1.22 7.66 1.22c4.26 0 8.01-.91 11.26-2.73 3.25-1.82 5.53-4.2 6.85-7.14h.23v8.48h10.45V68.63h-10.45v28.33ZM455.13 84.82c-1.32-3.52-3.19-6.6-5.63-9.23-2.44-2.63-5.38-4.68-8.82-6.15-3.45-1.47-7.3-2.21-11.55-2.21-3.72 0-7.33.81-10.86 2.44-3.52 1.63-6.29 3.91-8.3 6.85h-.23v-7.9h-10.45v87.78h10.45v-40.64h.23c1.86 2.86 4.53 5.13 8.01 6.79 3.48 1.66 7.2 2.5 11.15 2.5 4.26 0 8.11-.74 11.55-2.21 3.44-1.47 6.39-3.5 8.82-6.1 2.44-2.59 4.31-5.65 5.63-9.17 1.32-3.52 1.97-7.33 1.97-11.44s-.66-7.8-1.97-11.32Zm-10.45 19.04c-.85 2.36-2.05 4.37-3.6 6.04-1.55 1.67-3.45 2.98-5.69 3.95-2.25.97-4.76 1.45-7.55 1.45s-5.3-.48-7.55-1.45-4.14-2.28-5.69-3.95c-1.55-1.66-2.75-3.68-3.6-6.04-.85-2.36-1.28-4.93-1.28-7.72s.42-5.36 1.28-7.72c.85-2.36 2.05-4.37 3.6-6.04 1.55-1.66 3.44-2.98 5.69-3.95 2.24-.97 4.76-1.45 7.55-1.45s5.3.48 7.55 1.45c2.24.97 4.14 2.28 5.69 3.95 1.55 1.67 2.75 3.68 3.6 6.04.85 2.36 1.28 4.93 1.28 7.72s-.43 5.36-1.28 7.72Z"
            class="cls-2"
            fill="#6ed866"></path>
        </svg>
      </a>
    </header>
  </div>
  <div
    class="w-full max-w-screen-xl mx-auto flex px-6 md:px-20 py-6 md:py-10 gap-20 md:items-center flex-col"
  >
    <div class="w-full max-w-3xl flex flex-col items-center gap-6 text-center">
      <Contador />
      <h1
        class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:leading-tight lg:text-5xl"
      >
        Conecta y Aprende con los Expertos en el Shopify Meetup Panamá 2024
      </h1>
      <p class="text-xl text-muted-foreground">
        Este evento es una oportunidad única para aprender de los mejores en el
        sector, conectar con otros profesionales, compartir experiencias y hacer
        contactos valiosos para tu negocio.
      </p>
      <div
        class="py-6 px-6 lg:px-0 flex flex-col gap-3 items-start lg:items-center text-left"
      >
        <div class="flex gap-4 items-start">
          <MapPin className="text-accent w-6 min-w-6 h-6" />
          <span class="pt-[2px]"
            ><strong>Fecha:</strong> 10 de octubre de 2024</span
          >
        </div>
        <div class="flex gap-4 items-start justify-start">
          <Calendar className="text-accent w-6 min-w-6 h-6" />
          <span class="pt-[2px]"
            ><strong>Lugar:</strong> Centro de Convenciones de Ciudad del Saber</span
          >
        </div>
        <!--  <div class="flex gap-4 items-center">
          <CircleAlert />
          <span>Plazas Limitadas</span>
        </div> -->
      </div>
      <div class="form-wrap w-full md:max-w-lg">
        <h4 class="my-4 text-lg font-semibold">
          No te pierdas ninguna actualización
        </h4>
        <Alert id="missing" className="mb-4" variant="destructive">
          <CircleX className="h-[24px] w-[24px]" />
          <AlertDescription> Introduce un correo </AlertDescription>
        </Alert>
        <Alert id="duplicate" className="mb-4" variant="destructive">
          <CircleX className="h-[24px] w-[24px]" />
          <AlertDescription>
            Este correo ya ha sido registrado
          </AlertDescription>
        </Alert>
        <Alert id="success" className="mb-4" variant="validate">
          <CircleCheck className="h-[24px] w-[24px]" />
          <AlertDescription> Suscrito correctamente </AlertDescription>
        </Alert>
        <Alert id="failure" className="mb-4" variant="destructive">
          <CircleX className="h-[24px] w-[24px]" />
          <AlertDescription>
            Ha ocurrido un error. Inténtalo más tarde
          </AlertDescription>
        </Alert>
        <form id="form" class="flex flex-col md:flex-row gap-3 w-full">
          <Input name="email" type="email" placeholder="correo@ejemplo.com" />
          <Button className="rounded-full h-14 text-md" variant="accent"
            >Suscribirse</Button
          >
        </form>
      </div>
    </div>
    <YouTube
      class="w-full max-w-full rounded-lg lg:rounded-2xl shadow-2xl shadow-[#6ed86638] aspect-video h-fit"
      id="8IO2kCdlVsA"
      posterQuality="max"
    />
    <div class="text-center">
      <h4 class="mb-4 text-lg font-semibold">
        Recuerda seguirnos en nuestras redes
      </h4>
      <div class="flex items-center justify-center gap-4">
        <a href="https://instagram.com/simplifyecommerce" target="_blank">
          <Instagram className="text-accent" />
        </a>
        <a href="https://linkedin.com/company/simplifyecommerce" target="_blank"
          ><Linkedin className="text-accent" />
        </a>
      </div>
    </div>
  </div>

  <footer class="w-full max-w-screen-xl mx-auto px-6 md:px-20 py-6 md:py-10">
    <p class="text-sm text-muted-foreground text-center">
      © 2024, Simplify Ecommerce
    </p>
  </footer>

  <div
    class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80"
    aria-hidden="true"
  >
    <div
      class="relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#7373f9] to-[#6ed866] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"
      style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"
    >
    </div>
  </div>
  <div
    class="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]"
    aria-hidden="true"
  >
    <div
      class="relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#6ed866] to-[#7373f9] opacity-30 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]"
      style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"
    >
    </div>
  </div>

  <style>
    div[role="alert"] {
      display: none;
    }
  </style>
  <script>
    // Selecciona el formulario y define su tipo como HTMLFormElement
    const formulario = document.getElementById("form") as HTMLFormElement;

    formulario?.addEventListener("submit", function (event) {
      event.preventDefault();

      document.querySelectorAll(".form-alert").forEach((alert) => {
        (alert as HTMLElement).style.display = "none";
      });

      // Accede al campo de correo electrónico usando 'elements'
      const email = (formulario.elements.namedItem("email") as HTMLInputElement)
        .value;

      const options = {
        method: "POST",
        headers: {
          accept: "application/json",
          "content-type": "application/json",
          "api-key": import.meta.env.PUBLIC_API_KEY,
        },
        body: JSON.stringify({
          email: email,
          listIds: [3],
          updateEnabled: false,
        }),
      };

      fetch("https://api.brevo.com/v3/contacts", options)
        .then((response) => response.json())
        .then((response) => {
          console.log(response);

          if (response.code == "missing_parameter") {
            console.log("Introduce un correo");
            document.getElementById("missing")!.style.display = "block";
          } else if (response.code == "duplicate_parameter") {
            console.log("Ya hiciste el registro anteriormente");
            document.getElementById("duplicate")!.style.display = "block";
          } else if (response.id !== undefined) {
            document.getElementById("success")!.style.display = "block";
          } else {
            console.log("Ha ocurrido un error");
            document.getElementById("failure")!.style.display = "block";
          }
        })
        .catch((err) => {
          console.log(err);
        });
    });
  </script>
</div>
